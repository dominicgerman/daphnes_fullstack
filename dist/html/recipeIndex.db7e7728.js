const e={recipeIndex:{recipes:[]},recipe:{},search:{query:"",results:[]}},t=async function(t){try{e.search.query=t;const n=await fetch(`https://daphnes.fly.dev/api/search/${t}`),a=await n.json();if(console.log(a),!n.ok)throw new Error(`${a.message} (${n.status})`);e.search.results=a.map((e=>({id:e.id,name:e.name,image:e.imageCover,slug:e.slug,query:t})))}catch(e){throw console.error(`Oh shittttttt.... ${e}`),e}};class n{_data;_query;render(e){if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;const t=this._generateMarkup();this.clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}clear(){this._parentElement.innerHTML=""}renderError(e=this._errorMessage,t=this._query){const n=`\n    <h1 class="index-header">Recipes</h1>\n    <form class="search-bar">\n    <input type="text" class="search__field" placeholder="Search for..."/>\n    <button class="search__button"><i class="fa fa-search"></i></button>\n    </form>\n    <div class="error-msg">\n    <p>No results for <strong>${t}</strong>. ${e}</p></div>\n    `;this.clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}}var a=new class extends n{_parentElement=document.querySelector(".index-container");_query;_errorMessage=' Please try another search term or <a class="no-results__link" href="https://daphnes.fly.dev/html/recipeindex#">view all recipes</a>.';addHandlerRender(e){""===window.location.hash&&window.addEventListener("load",e)}queryHandler(e){this._query=e}_generateMarkup(){return`\n    <h1 class="index-header">Recipes</h1>\n    <form class="search-bar">\n    <input type="text" class="search__field" placeholder="Search for..."/>\n    <button class="search__button"><i class="fa fa-search"></i></button>\n    </form>\n    <div class="results-message">${this._data[0].query?`<p>Search results for <strong>${this._data[0].query} </strong> <a class="clear-results" href="#" onclick="window.location.reload()"> clear</a></p>`:""}</div>\n    <div class="index-container__content">\n      ${this._data.map((e=>`\n        <div class="recipe-thumbnail-item">\n          <a href="#${e.id}">\n            <div class="thumbnail__img-box">\n            <img\n                class="thumbnail__img"\n                src="/imgs/cocktail-imgs/${e.image}"\n                alt="picture of a ${e.name} cocktail"\n            />\n            <p class="thumbnail__text">${e.name}</p>\n            </div>\n          </a>\n        </div>\n        `)).join("")}\n  </div>\n    `}};var r=new class extends n{_parentElement=document.querySelector(".recipe-container");_errorMessage="Can't find that recipe. Try another one!";addHandlerRender(e){window.addEventListener("hashchange",e),window.addEventListener("load",e)}_generateMarkup(){return`\n    <div class="navigate-back-link">\n        <a href="#"\n          >Back to recipes</a\n        >\n    </div>\n    <h1>${this._data.name}</h1>\n    <p class="short-description">${this._data.description}</p>\n    <div class="recipe-container__content">\n      <div class="recipe-info">\n        <div class="recipe-info__tab-container">\n          <button class="recipe-info__tab about__tab tab--active" data-tab="about">\n          About\n          </button>\n          <button class="recipe-info__tab specs__tab" data-tab="specs">\n          Recipe\n          </button>\n          <button class="recipe-info__tab similar-to__tab" data-tab="similar-to">\n          Similar to\n          </button>\n          </div>\n          <div class="content-container">\n\n      \x3c!-- ABOUT SECTION --\x3e\n          <div class="recipe-info__content about__content content--active">\n            <p class="about__text-box">${this._data.about}</p>\n            <ul class="tag-list">\n            ${this._data.tags.map(((e,t)=>`\n                <li class="tag-element">\n                  <a class="tag-link" href="#">${e}</a>${t<this._data.tags.length-1?",":""}</li>\n                `)).join("")}\n            </ul>\n          </div>\n\n      \x3c!-- SPECS & INSTRUCTIONS SECTION --\x3e\n          <div class="recipe-info__content specs__content">\n            <ul class="ingredient-amounts">\n              ${this._data.ingredients.map((e=>`\n                <li class="amount">${e.measure||""}</li>\n                `)).join("")}\n            </ul>\n            <ul class="ingredient-names">\n              ${this._data.ingredients.map((e=>`\n                <li class="name">${e.name}</li>\n                `)).join("")}\n            </ul>\n            <p class="recipe-instructions">${this._data.instructions}</p>\n          </div>\n\n      \x3c!-- SIMILAR TO SECTION --\x3e\n          <div class="recipe-info__content similar-to__content">\n            ${this._data.similarTo.map((e=>`\n            <a href="https://daphnes.fly.dev/html/recipeIndex.html#${e.id}">\n            <div class="similar-to__img-box">\n              <img\n                class="similar-to__img"\n                src="/imgs/cocktail-imgs/${e.imageCover}"\n                alt="similar cocktail"\n              />\n              <p>${e.name}</p>\n            </div>\n            </a>\n            `)).join("")}\n          </div>\n        </div>\n      </div>\n      <div class="recipe-img">\n          <img\n            class="cocktail-img"\n            src="/imgs/cocktail-imgs/${this._data.image}"\n            alt="Picture of ${this._data.name}"\n          />\n      </div>\n    </div>\n    \n          `}};var s=new class{_parentEl=document.querySelector(".index-container");getQuery(){return this._parentEl.querySelector(".search__field").value}addHandlerSearch(e){this._parentEl.addEventListener("submit",(t=>{t.preventDefault(),e()}))}addHandlerTagSearch(e){document.querySelector(".recipe-container").addEventListener("click",(t=>{const n=t.target.closest(".tag-link");t.target===n&&(t.preventDefault(),e(t.target.textContent))}))}};const i=async function(){try{await(async()=>{try{const t=await fetch("https://daphnes.fly.dev/api/recipes"),n=await t.json();if(!t.ok)throw new Error(`${n.message} (${t.status})`);const a=n.map((e=>({id:e.id,name:e.name,image:e.imageCover,slug:e.slug})));e.recipeIndex.recipes=a}catch(e){throw console.error(`Oh shittttttt.... ${e}`),e}})(),a.render(e.recipeIndex.recipes)}catch(e){console.error(e)}},c=async function(){const t=window.location.hash.slice(1);if(!t)return r.clear(),void i();try{a.clear(),await(async t=>{try{const n=await fetch(`https://daphnes.fly.dev/api/recipes/${t}`),a=await n.json();if(!n.ok)throw new Error(`${a.message} (${n.status})`);const r=a;e.recipe={id:r.id,name:r.name,image:r.imageCover,description:r.description,strength:r.strength,about:r.about,ingredients:r.ingredients,instructions:r.instructions,similarTo:r.similarTo,tags:r.tags}}catch(e){throw console.error(`Oh shittttttt.... ${e}`),e}})(t),r.render(e.recipe)}catch(e){console.error(e),r.renderError()}document.querySelector(".recipe-info__tab-container").addEventListener("click",(e=>{const t=e.target.closest(".recipe-info__tab");let n=document.querySelectorAll(".recipe-info__tab"),a=document.querySelectorAll(".recipe-info__content");t&&(n.forEach((e=>e.classList.remove("tab--active"))),a.forEach((e=>e.classList.remove("content--active"))),t.classList.add("tab--active"),document.querySelector(`.${t.dataset.tab}__content`).classList.add("content--active"))}))},o=async()=>{try{const n=s.getQuery();if(!n)return;a.queryHandler(n),await t(n),a.render(e.search.results)}catch(e){console.error(e)}},l=async n=>{try{await t(n),a.queryHandler(n),r.clear(),a.render(e.search.results),a.render(e.search.results)}catch(e){console.error(e)}};a.addHandlerRender(i),r.addHandlerRender(c),s.addHandlerSearch(o),s.addHandlerTagSearch(l),document.querySelector(".hamburger-icon").addEventListener("click",(()=>{document.querySelector(".nav").classList.toggle("nav-open"),document.querySelector("body").classList.toggle("fixed")}));
//# sourceMappingURL=recipeIndex.db7e7728.js.map
